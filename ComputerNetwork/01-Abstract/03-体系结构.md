# 体系结构

|OSI参考模型|原理参考模型|TCP/IP参考模型|应用|
|-|-|-|-|
|应用层|↓|↓||
|表示层|↓|↓||
|会话层|应用层|应用层|HTTP SMTP DNS RTP|
|运输层|运输层|运输层|TCP UDP|
|网络层|网络层|网际层|IP|
|数据链路层|数据链路层|↓||
|物理层|物理层|网络接口层|以太网 Wi-Fi 接口n|

## 物理层

解决使用何种信号来表示比特0和1的问题

* 采用什么传输媒体（介质,物理层之下）
* 采用什么物理接口
* 采用什么信号表示0/1

## 数据链路层

解决数据包在一个网络或一段链路上传输的问题

* 标识网络中各主机（主机编址例如MAC地址）
* 从比特流中区分出地址和数据（数据封装格式）
* 协调各主机争用总线（媒体接入控制）
* 以太网交换机的实现（自学习和转发帧）
* 检测数据是否误码（差错检测）
* 出现传输差错如何处理（可靠传输和不可靠传输）
* 接收方控制发送方注入网络的数据量（流量控制）

## 网络层

解决数据包在多个网络之间传输和路由的问题

* 标识网络和网络中的各主机（网络和主机共同编址，例如IP地址）
* 路由器转发分组（路由选择协议、路由表和转发表）

## 运输层

解决进程之间基于网络的通信问题

* 进程之间基于网络的通信（进程的标识，例如端口号）
* 出现传输差错如何处理（可靠传输和不可靠传输）

## 应用层

解决通过应用进程的交互来实现特定网络应用的问题

* 通过应用进程间的交互来完成特定的网络应用
* 进行会话管理和数据表示

## 术语

### 实体

* 实体是指任何可发送或接收信息的硬件或软件进程
* 对等实体是指通信双方相同层次中的实体。

### 协议

协议是控制两个对等实体在“水平方向” 进行“逻辑通信”的规则的集合，包含三要素：

* 语法: 定义所交换信息的格式
* 语义: 定义通信双方所要完成的操作
* 同步: 定义通信双方的时序关系

**PDU**：对等层次之间传送的数据包称为该层的协议数据单元（Protocol Data Unit）。

### 服务

要实现某层协议，还需要使用下面一层所提供的服务。
实体看得见下层提供的服务，但并不知道实现该服务的具体协议。下层的协议对上层的实体是“透明”的。

**SAP**：在同一系统中相邻两层的实体交换信息的逻辑接口*称为服务访问点，它被用于区分不同的服务类型**。帧的“类型”字段、IP数据报的“协议”字段，TCP报文段或UDP用户数据报的“端口号”字段都是SAP。

**服务原语**：上层要使用下层所提供的服务，必须通过与下层交换一些命令，这些命令称为服务原语。

**SDU**：同一系统内层与层之间交换的数据包称为服务数据单元（Service Data Unit）。
